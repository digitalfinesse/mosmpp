!function(m,p,e,n){var y="lazyLoadXT",l="lazied",C="load error",t="lazy-hidden",w=e.documentElement||e.body,E={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:p.onscroll===n||!!p.operamini||!w.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:t},onload:{removeClass:t,addClass:"lazy-loaded"},onerror:{removeClass:t},checkDuplicates:!0},s={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},o=m(p),z=m.isFunction,c=m.extend,d=m.data||function(e,t){return m(e).data(t)},b=m.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},I=[],T=0,a=0;function f(e,t){return e[t]===n?E[t]:e[t]}function B(){var e=p.pageYOffset;return e===n?w.scrollTop:e}function L(e,t){var n=E["on"+e];n&&(z(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),u()}function X(e){L(e.type,m(this).off(C,X))}function r(e){if(I.length){e=e||E.forceLoad,T=1/0;var t,n,o=B(),a=p.innerHeight||w.clientHeight,r=p.innerWidth||w.clientWidth;for(t=0,n=I.length;t<n;t++){var i,l=I[t],s=l[0],c=l[y],d=!1,f=e;if(b(w,s)){if(e||!c.visibleOnly||s.offsetWidth||s.offsetHeight){if(!f){var u=s.getBoundingClientRect(),A=c.edgeX,g=c.edgeY;f=(i=u.top+o-g-a)<=o&&u.bottom>-g&&u.left<=r+A&&u.right>-A}if(f){L("show",l);var h=c.srcAttr,v=z(h)?h(l):s.getAttribute(h);v&&(l.on(C,X),s.src=v),d=!0}else i<T&&(T=i)}}else d=!0;d&&(I.splice(t--,1),n--)}n||L("complete",m(w))}}function i(){1<a?(a=1,r(),setTimeout(i,E.throttle)):a=0}function u(e){I.length&&(e&&"scroll"===e.type&&e.currentTarget===p&&T>=B()||(a||setTimeout(i,0),a=2))}function A(){o.lazyLoadXT()}function g(){r(!0)}m[y]=c(E,s,m[y]),m.fn[y]=function(o){var e,a=f(o=o||{},"blankImage"),r=f(o,"checkDuplicates"),t=f(o,"scrollContainer"),i={};for(e in m(t).on("scroll",u),s)i[e]=f(o,e);return this.each(function(e,t){if(t===p)m(E.selector).lazyLoadXT(o);else{if(r&&d(t,l))return;var n=m(t).data(l,1);a&&"IMG"===t.tagName&&!t.src&&(t.src=a),n[y]=c({},i),L("init",n),I.push(n)}})},m(e).ready(function(){L("start",o),o.on(E.loadEvent,A).on(E.updateEvent,u).on(E.forceEvent,g),m(e).on(E.updateEvent,u),E.autoInit&&A()})}(window.jQuery||window.Zepto||window.$,window,document);